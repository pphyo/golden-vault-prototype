"use strict";(self.webpackChunkmembers_web=self.webpackChunkmembers_web||[]).push([[315],{315:(S,g,l)=>{l.r(g),l.d(g,{ManagerModule:()=>Q});var c=l(2175),s=l(1600),e=l(862),f=l(366);const Z=function(){return["/owner"]};function y(t,u){1&t&&(e.TgZ(0,"a",15)(1,"span",16),e._UZ(2,"i",26),e.TgZ(3,"span",6),e._uU(4," Owner Home"),e.qZA()()()),2&t&&e.Q6J("routerLink",e.DdM(1,Z))}const _=function(){return["/manager","employee"]},b=function(){return["/manager","setting"]},v=function(){return["/employee"]},T=function(){return["/customer"]},A=function(){return["/public"]},M=function(t){return{height:t}};let E=(()=>{class t{constructor(n,o){this.context=n,this.router=o,this.heightValue="calc(100% - 355px)"}ngOnInit(){this.currentUser=this.context.activeUser.role,"Admin"==this.context.activeUser.role&&(this.heightValue="calc(100% - 397px)")}logout(){this.context.signOut(),this.router.navigate(["/public","home"])}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(f.q),e.Y36(s.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-manager"]],decls:47,vars:14,consts:[[1,"container-fluid"],[1,"row","g-3"],[1,"left-nav","col-2","pr-3","shadow","ps-0","h-100"],[1,"text-center","brand"],[1,"fs-4","text-dark","text-decoration-none","btn-link","fw-bold"],[1,"bi","bi-house"],[1,"d-none","d-lg-inline"],[1,"text-center","text-lg-start","mb-auto"],["routerLinkActive","active",1,"nav-menu-link","ps-lg-3","ps-md-0","mb-2",3,"routerLink"],[1,"bi","bi-person-fill-gear"],[1,"bi","bi-gear"],[1,"text-center","text-lg-start","list-group"],[1,"list-group-item","disabled"],[1,"bi","bi-house-gear"],["class","list-group-item list-group-item-action",3,"routerLink",4,"ngIf"],[1,"list-group-item","list-group-item-action",3,"routerLink"],[1,"ps-2"],[1,"bi","bi-person-raised-hand"],[1,"bi","bi-people"],[1,"bi","bi-person-workspace"],[1,"ps-2","row","align-items-end",3,"ngStyle"],[1,"col"],[1,"btn","btn-outline-success","w-100",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"col-10"],[1,"ps-3"],[1,"bi","bi-person-gear"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"a",4),e._UZ(5,"i",5),e.TgZ(6,"span",6),e._uU(7," Dashboard"),e.qZA()()(),e.TgZ(8,"div",7)(9,"a",8),e._UZ(10,"i",9),e.TgZ(11,"span",6),e._uU(12," Employee"),e.qZA()(),e.TgZ(13,"a",8),e._UZ(14,"i",10),e.TgZ(15,"span",6),e._uU(16," Setting"),e.qZA()()(),e.TgZ(17,"div",11)(18,"span",12),e._UZ(19,"i",13),e.TgZ(20,"small",6),e._uU(21," DASHBOARDS"),e.qZA()(),e.YNc(22,y,5,2,"a",14),e.TgZ(23,"a",15)(24,"span",16),e._UZ(25,"i",17),e.TgZ(26,"span",6),e._uU(27," Employee Home"),e.qZA()()(),e.TgZ(28,"a",15)(29,"span",16),e._UZ(30,"i",18),e.TgZ(31,"span",6),e._uU(32," Customer Home"),e.qZA()()(),e.TgZ(33,"a",15)(34,"span",16),e._UZ(35,"i",19),e.TgZ(36,"span",6),e._uU(37," Public Home"),e.qZA()()()(),e.TgZ(38,"div",20)(39,"div",21)(40,"button",22),e.NdJ("click",function(){return a.logout()}),e._UZ(41,"i",23),e.TgZ(42,"span",6),e._uU(43," Log Out"),e.qZA()()()()(),e.TgZ(44,"main",24)(45,"div",25),e._UZ(46,"router-outlet"),e.qZA()()()()),2&o&&(e.xp6(9),e.Q6J("routerLink",e.DdM(7,_)),e.xp6(4),e.Q6J("routerLink",e.DdM(8,b)),e.xp6(9),e.Q6J("ngIf","Admin"==a.currentUser),e.xp6(1),e.Q6J("routerLink",e.DdM(9,v)),e.xp6(5),e.Q6J("routerLink",e.DdM(10,T)),e.xp6(5),e.Q6J("routerLink",e.DdM(11,A)),e.xp6(5),e.Q6J("ngStyle",e.VKq(12,M,a.heightValue)))},dependencies:[c.O5,c.PC,s.lC,s.rH,s.Od],encapsulation:2})}return t})();var r=l(5445),d=l(5610),U=l(8845);let h=(()=>{class t{constructor(n){this.onSave=new e.vpe,this.form=n.group({id:0,name:["",r.kI.required],phone:["",[r.kI.required,r.kI.minLength(8)]],email:["",[r.kI.required,r.kI.email]],nrcNumber:["",r.kI.required],assignAt:["",r.kI.required],retireAt:"",role:["Customer",r.kI.required],remark:""})}set employee(n){this.initEmployeeForm(),n&&this.form.patchValue(n)}get id(){return this.form.get("id")}get name(){return this.form.get("name")}get phone(){return this.form.get("phone")}get email(){return this.form.get("email")}get nrcNumber(){return this.form.get("nrcNumber")}get assignDate(){return this.form.get("assignAt")}get role(){return this.form.get("role")}openEmployeeForm(){this.dialog?.openDialog()}hideEmployeeForm(){this.dialog?.hideDialog()}saveEmployee(){this.onSave.emit(this.form.value)}initEmployeeForm(){this.form.patchValue({id:0,name:"",phone:"",email:"",nrcNumber:"",assignAt:"",retireAt:"",role:"Customer",remark:""})}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(r.qu))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-manager-employee-form"]],viewQuery:function(o,a){if(1&o&&e.Gf(d.h,5),2&o){let i;e.iGM(i=e.CRH())&&(a.dialog=i.first)}},inputs:{employee:"employee"},outputs:{onSave:"onSave"},decls:43,vars:9,consts:[[3,"formGroup"],["modalId","employeeModalId",3,"modalIcon","modalTitle"],["body",""],[1,"row","mb-3"],[1,"col"],["label","Name",3,"valid"],["formControlName","name","id","name","type","text","placeholder","Employee name",1,"form-control"],["label","Phone",3,"valid"],["formControlName","phone","id","phone","type","tel","placeholder","09xxxx",1,"form-control"],["label","Email",3,"valid"],["formControlName","email","id","email","type","email","placeholder","example@gmail.com",1,"form-control"],["label","NRC No",3,"valid"],["formControlName","nrcNumber","id","nrc_no","type","text","placeholder","1/KaKaKa(N)000000",1,"form-control"],["label","Assign Date",3,"valid"],["formControlName","assignAt","id","assign_date","type","date",1,"form-control"],["label","Retire Date",3,"valid"],["formControlName","retireAt","id","retire_date","type","date",1,"form-control"],[1,"mb-3"],["formControlName","role","type","radio","id","customer","name","role","value","Customer",1,"form-check-inline","me-1"],["for","customer",1,"form-check-label","me-3"],["formControlName","role","type","radio","id","employee","name","role","value","Employee",1,"form-check-inline","me-1"],["for","employee",1,"form-check-label","me-3"],["formControlName","role","type","radio","id","manager","name","role","value","Manager",1,"form-check-inline","me-1"],["for","manager",1,"form-check-label","me-3"],["formControlName","role","type","radio","id","owner","name","role","value","Owner",1,"form-check-inline","me-1"],["for","owner",1,"form-check-label"],["for-remark","",1,"form-label"],["formControlName","remark","id","remark","cols","auto","rows","2","placeholder","Remark",1,"form-control"],["footer","",1,"btn","btn-outline-dark",3,"click"],[1,"bi","bi-save"]],template:function(o,a){1&o&&(e.TgZ(0,"form",0)(1,"app-modal-dialog",1),e.ynx(2,2),e.TgZ(3,"div",3)(4,"div",4)(5,"app-form-group",5),e._UZ(6,"input",6),e.qZA()(),e.TgZ(7,"div",4)(8,"app-form-group",7),e._UZ(9,"input",8),e.qZA()()(),e.TgZ(10,"div",3)(11,"div",4)(12,"app-form-group",9),e._UZ(13,"input",10),e.qZA()(),e.TgZ(14,"div",4)(15,"app-form-group",11),e._UZ(16,"input",12),e.qZA()()(),e.TgZ(17,"div",3)(18,"div",4)(19,"app-form-group",13),e._UZ(20,"input",14),e.qZA()(),e.TgZ(21,"div",4)(22,"app-form-group",15),e._UZ(23,"input",16),e.qZA()()(),e.TgZ(24,"div",17),e._UZ(25,"input",18),e.TgZ(26,"label",19),e._uU(27,"Customer"),e.qZA(),e._UZ(28,"input",20),e.TgZ(29,"label",21),e._uU(30,"Employee"),e.qZA(),e._UZ(31,"input",22),e.TgZ(32,"label",23),e._uU(33,"Manager"),e.qZA(),e._UZ(34,"input",24),e.TgZ(35,"label",25),e._uU(36,"Owner"),e.qZA()(),e.TgZ(37,"label",26),e._uU(38,"Remark"),e.qZA(),e._UZ(39,"textarea",27),e.BQk(),e.TgZ(40,"button",28),e.NdJ("click",function(){return a.saveEmployee()}),e._UZ(41,"i",29),e._uU(42," Save "),e.qZA()()()),2&o&&(e.Q6J("formGroup",a.form),e.xp6(1),e.Q6J("modalIcon",a.id.value>0?"bi-pencil-square":"bi-plus-square")("modalTitle",a.id.value>0?"Employee Edit":"Add Employee"),e.xp6(4),e.Q6J("valid",a.name.valid),e.xp6(3),e.Q6J("valid",a.phone.valid),e.xp6(4),e.Q6J("valid",a.email.valid),e.xp6(3),e.Q6J("valid",a.nrcNumber.valid),e.xp6(4),e.Q6J("valid",a.assignDate.valid),e.xp6(3),e.Q6J("valid",!0))},dependencies:[d.h,U.H,r._Y,r.Fj,r._,r.JJ,r.JL,r.sg,r.u],encapsulation:2})}return t})();var C=l(5975),q=l(2618);function k(t,u){1&t&&e._UZ(0,"app-no-data",24)}function x(t,u){if(1&t){const n=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",27)(12,"button",28),e.NdJ("click",function(){const i=e.CHM(n).$implicit,m=e.oxw(2);return e.KtG(m.updateEmployee(i))}),e._UZ(13,"i",29),e.qZA(),e.TgZ(14,"a",30),e._UZ(15,"i",31),e.qZA()()()}if(2&t){const n=u.$implicit;e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.email),e.xp6(2),e.Oqu(n.phone),e.xp6(2),e.Oqu(n.nrcNumber),e.xp6(2),e.Oqu(n.assignAt)}}function N(t,u){if(1&t&&(e.TgZ(0,"table",25)(1,"thead")(2,"tr")(3,"td"),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"td"),e._uU(6,"Phone"),e.qZA(),e.TgZ(7,"td"),e._uU(8,"Email"),e.qZA(),e.TgZ(9,"td"),e._uU(10,"NRC No"),e.qZA(),e.TgZ(11,"td"),e._uU(12,"Assign At"),e.qZA(),e._UZ(13,"td"),e.qZA()(),e.TgZ(14,"tbody"),e.YNc(15,x,16,5,"tr",26),e.qZA()()),2&t){const n=e.oxw();e.xp6(15),e.Q6J("ngForOf",n.employees)}}const J=[{path:"",component:E,children:[{path:"employee",children:[{path:"management",component:(()=>{class t{constructor(n){this.manEmpService=n,this.searchParams={id:0,name:"",phone:""},this.employees=[]}ngOnInit(){this.search()}search(){this.manEmpService.search(this.searchParams).subscribe(n=>this.employees=n.content)}saveEmployee(n){this.manEmpService.save(n).subscribe(o=>{o&&(this.employeeForm?.hideEmployeeForm(),this.employeeForm?.initEmployeeForm(),this.search())})}updateEmployee(n){this.targetEmplyoee=n,this.employeeForm?.openEmployeeForm()}openEmployeeForm(){this.targetEmplyoee=void 0,this.employeeForm?.openEmployeeForm()}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(C.e))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-manager-employee-management"]],viewQuery:function(o,a){if(1&o&&e.Gf(h,5),2&o){let i;e.iGM(i=e.CRH())&&(a.employeeForm=i.first)}},decls:32,vars:3,consts:[[1,"view-title"],[1,"bi","bi-person-fill-gear"],[1,"row","g-2"],[1,"col-lg-9","col-12","order-lg-first","order-last"],[1,"btn","btn-success",3,"click"],[1,"bi","bi-plus-lg"],["image","assets/no-employee.jpg","text","Employee",4,"ngIf"],["class","table table-striped mt-2",4,"ngIf"],[1,"col-lg-3","col-12"],[1,"card","search-card"],[1,"card-header"],[1,"card-body"],["for","emp_code",1,"form-label"],["type","text","id","emp_code","placeholder","Enter employee code",1,"form-control","mb-3",3,"change"],["empId",""],["for","name",1,"form-label"],["type","text","id","name","placeholder","Enter employee name",1,"form-control","mb-3",3,"change"],["empName",""],["for","phone",1,"form-label"],["type","text","id","phone","placeholder","Enter employee phone",1,"form-control","mb-3",3,"change"],["empPhone",""],[1,"btn","btn-success","w-100",3,"click"],[1,"bi","bi-search"],[3,"employee","onSave"],["image","assets/no-employee.jpg","text","Employee"],[1,"table","table-striped","mt-2"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"bi","bi-pencil-square"],["href","",1,"btn","btn-sm","btn-outline-warning"],[1,"bi","bi-send"]],template:function(o,a){if(1&o){const i=e.EpF();e.TgZ(0,"h3",0),e._UZ(1,"i",1),e._uU(2," Employee Management"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"button",4),e.NdJ("click",function(){return a.openEmployeeForm()}),e._UZ(6,"i",5),e._uU(7," Add New Employee "),e.qZA(),e.YNc(8,k,1,0,"app-no-data",6),e.YNc(9,N,16,1,"table",7),e.qZA(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"h4"),e._uU(14,"Search Employee"),e.qZA()(),e.TgZ(15,"div",11)(16,"label",12),e._uU(17,"Employee Code"),e.qZA(),e.TgZ(18,"input",13,14),e.NdJ("change",function(){e.CHM(i);const p=e.MAs(19);return e.KtG(a.searchParams.id=+p.value)}),e.qZA(),e.TgZ(20,"label",15),e._uU(21,"Employee Name"),e.qZA(),e.TgZ(22,"input",16,17),e.NdJ("change",function(){e.CHM(i);const p=e.MAs(23);return e.KtG(a.searchParams.name=p.value)}),e.qZA(),e.TgZ(24,"label",18),e._uU(25,"Employee Phone"),e.qZA(),e.TgZ(26,"input",19,20),e.NdJ("change",function(){e.CHM(i);const p=e.MAs(27);return e.KtG(a.searchParams.phone=p.value)}),e.qZA(),e.TgZ(28,"button",21),e.NdJ("click",function(){return a.search()}),e._UZ(29,"i",22),e._uU(30," Search "),e.qZA()()()(),e.TgZ(31,"app-manager-employee-form",23),e.NdJ("onSave",function(p){return a.saveEmployee(p)}),e.qZA()()}2&o&&(e.xp6(8),e.Q6J("ngIf",0==a.employees.length),e.xp6(1),e.Q6J("ngIf",a.employees.length>0),e.xp6(22),e.Q6J("employee",a.targetEmplyoee))},dependencies:[c.sg,c.O5,q.d,h],encapsulation:2})}return t})(),title:"Manager | Employee Management"},{path:"detail",component:(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-manager-employee-detail"]],decls:2,vars:0,template:function(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"manager-employee-detail works!"),e.qZA())},encapsulation:2})}return t})(),title:"Manager | Employee Detail"},{path:"",redirectTo:"/manager/employee/management",pathMatch:"full"}]},{path:"setting",component:(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-manager-setting"]],decls:2,vars:0,template:function(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"manager-setting works!"),e.qZA())},encapsulation:2})}return t})(),title:"Manager | Setting"},{path:"",redirectTo:"/manager/employee/management",pathMatch:"full"}]}];let F=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[s.Bz.forChild(J),s.Bz]})}return t})();var w=l(3744);let Q=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[c.ez,F,w.H,r.UX]})}return t})()}}]);