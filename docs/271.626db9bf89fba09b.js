"use strict";(self.webpackChunkgolden_vault_prototype=self.webpackChunkgolden_vault_prototype||[]).push([[271],{271:(Ee,T,u)=>{u.r(T),u.d(T,{EmployeeModule:()=>Je});var m=u(6814),p=u(6466),e=u(4946),x=u(1327);const w=function(){return["/owner"]};function F(n,a){1&n&&(e.TgZ(0,"a",18)(1,"span",19),e._UZ(2,"i",29),e.TgZ(3,"span",6),e._uU(4," Owner Home"),e.qZA()()()),2&n&&e.Q6J("routerLink",e.DdM(1,w))}const M=function(){return["/employee"]};function N(n,a){1&n&&(e.TgZ(0,"a",18)(1,"span",19),e._UZ(2,"i",30),e.TgZ(3,"span",6),e._uU(4," Manager Home"),e.qZA()()()),2&n&&e.Q6J("routerLink",e.DdM(1,M))}const J=function(){return["/employee","sale","checkout"]};function E(n,a){1&n&&(e.TgZ(0,"div",31)(1,"button",32),e._UZ(2,"i",33),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,J)))}const I=function(){return["/employee","sale"]},S=function(){return["/employee","category"]},Q=function(){return["/employee","catalog"]},O=function(){return["/employee","customer"]},Y=function(){return["/customer"]},P=function(){return["/public"]},D=function(n){return{height:n}};let G=(()=>{var n;class a{constructor(t,o){this.context=t,this.router=o,this.isCheckoutView=!1,this.heightValue="calc(100% - 360px)"}ngOnInit(){this.currentUser=this.context.activeUser.role,"Admin"==this.currentUser&&(this.heightValue="calc(100% - 495px)"),"Manager"==this.currentUser&&(this.heightValue="calc(100% - 452px)"),this.router.events.subscribe(t=>{t instanceof p.m2&&(this.isCheckoutView="/employee/sale/checkout"==t.url)})}logOut(){this.context.signOut(),this.router.navigate(["/public"])}}return(n=a).\u0275fac=function(t){return new(t||n)(e.Y36(x.q),e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee"]],decls:52,vars:18,consts:[[1,"container-fluid"],[1,"row","g-3"],[1,"left-nav","col-2","pr-3","shadow","ps-0","h-100"],[1,"text-center","brand"],[1,"text-dark","text-decoration-none","btn-link","fw-bold"],[1,"bi","bi-house"],[1,"d-none","d-lg-inline"],[1,"text-center","text-lg-start","mb-auto"],["routerLinkActive","active",1,"nav-menu-link","ps-lg-3","ps-md-0","mb-2",3,"routerLink"],[1,"bi","bi-cart"],[1,"bi","bi-tags"],[1,"bi","bi-layers-half"],["routerLinkActive","active",1,"nav-menu-link","ps-lg-3","ps-md-0",3,"routerLink"],[1,"bi","bi-person-raised-hand"],[1,"mt-2","text-center","text-lg-start","list-group"],[1,"list-group-item","disabled"],[1,"bi","bi-house-gear"],["class","list-group-item list-group-item-action",3,"routerLink",4,"ngIf"],[1,"list-group-item","list-group-item-action",3,"routerLink"],[1,"ps-2"],[1,"bi","bi-people"],[1,"bi","bi-person-workspace"],[1,"ps-2","row","align-items-end",3,"ngStyle"],[1,"col"],[1,"btn","btn-outline-success","w-100",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"col-10"],["class","floating-cart",4,"ngIf"],[1,"ps-3"],[1,"bi","bi-person-gear"],[1,"bi","bi-person-fill-lock"],[1,"floating-cart"],[3,"routerLink"],[1,"bi","bi-cart-check-fill"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"a",4),e._UZ(5,"i",5),e.TgZ(6,"span",6),e._uU(7," Dashboard"),e.qZA()()(),e.TgZ(8,"div",7)(9,"a",8),e._UZ(10,"i",9),e.TgZ(11,"span",6),e._uU(12," Pos"),e.qZA()(),e.TgZ(13,"a",8),e._UZ(14,"i",10),e.TgZ(15,"span",6),e._uU(16," Category"),e.qZA()(),e.TgZ(17,"a",8),e._UZ(18,"i",11),e.TgZ(19,"span",6),e._uU(20," Catalog"),e.qZA()(),e.TgZ(21,"a",12),e._UZ(22,"i",13),e.TgZ(23,"span",6),e._uU(24," Customer"),e.qZA()()(),e.TgZ(25,"div",14)(26,"span",15),e._UZ(27,"i",16),e.TgZ(28,"small",6),e._uU(29," DASHBOARDS"),e.qZA()(),e.YNc(30,F,5,2,"a",17),e.YNc(31,N,5,2,"a",17),e.TgZ(32,"a",18)(33,"span",19),e._UZ(34,"i",20),e.TgZ(35,"span",6),e._uU(36," Customer Home"),e.qZA()()(),e.TgZ(37,"a",18)(38,"span",19),e._UZ(39,"i",21),e.TgZ(40,"span",6),e._uU(41," Public Home"),e.qZA()()()(),e.TgZ(42,"div",22)(43,"div",23)(44,"button",24),e.NdJ("click",function(){return o.logOut()}),e._UZ(45,"i",25),e.TgZ(46,"span",6),e._uU(47," Log Out"),e.qZA()()()()(),e.TgZ(48,"main",26),e.YNc(49,E,3,2,"div",27),e.TgZ(50,"div",28),e._UZ(51,"router-outlet"),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("routerLink",e.DdM(10,I)),e.xp6(4),e.Q6J("routerLink",e.DdM(11,S)),e.xp6(4),e.Q6J("routerLink",e.DdM(12,Q)),e.xp6(4),e.Q6J("routerLink",e.DdM(13,O)),e.xp6(9),e.Q6J("ngIf","Admin"==o.currentUser),e.xp6(1),e.Q6J("ngIf","Admin"==o.currentUser||"Manager"==o.currentUser),e.xp6(1),e.Q6J("routerLink",e.DdM(14,Y)),e.xp6(5),e.Q6J("routerLink",e.DdM(15,P)),e.xp6(5),e.Q6J("ngStyle",e.VKq(16,D,o.heightValue)),e.xp6(7),e.Q6J("ngIf",!o.isCheckoutView))},dependencies:[m.O5,m.PC,p.lC,p.rH,p.Od],encapsulation:2}),a})();var f=u(5516),C=u(9862);const d=`${f.N.baseApi}/employee/sales`;let L=(()=>{var n;class a{constructor(t){this.http=t}save(t){const{id:o,...i}=t;return o?this.update(o,i):this.create(i)}create(t){return this.http.post(d,t)}update(t,o){return this.http.put(`${d}/${t}`,o)}search(t){return this.http.get(d,{params:t})}findById(t){return this.http.get(`${d}/${t}`)}findByIdForEdit(t){return this.http.get(`${d}/${t}/edit`)}}return(n=a).\u0275fac=function(t){return new(t||n)(e.LFG(C.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),a})();var g=u(2096);const B=`${f.N.baseApi}/employee/catalogs`;let h=(()=>{var n;class a{constructor(t){this.http=t,this.catalogs=[]}save(t){const{id:o,...i}=t;return o>0?this.update(o,i):this.create(i)}create(t){let o=t;return o.id=this.catalogs.length?this.catalogs[this.catalogs.length-1].id+1:1,this.catalogs.push(o),(0,g.of)(this.catalogs)}update(t,o){let i=this.catalogs.findIndex(s=>s.id==t);return this.catalogs[i]=o,this.catalogs[i].id=t,(0,g.of)(this.catalogs)}search(t){return(0,g.of)({content:this.catalogs,page:{current:0,size:0,count:0}})}findById(t){let o=this.catalogs.findIndex(i=>i.id=t);return(0,g.of)(this.catalogs[o])}uploadPhotos(t,o){var i=new FormData;for(let s=0;s<o.length;s++)i.append("files",o[s],o[s].name);return this.http.post(`${B}/${t}/uploads`,i)}}return(n=a).\u0275fac=function(t){return new(t||n)(e.LFG(C.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),a})();var A=u(1112);function H(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",5),e._uU(6),e.qZA(),e.TgZ(7,"td",5),e._uU(8),e.qZA(),e.TgZ(9,"td",5),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td")(13,"button",6),e.NdJ("click",function(){const i=e.CHM(r).$implicit,s=e.oxw();return e.KtG(s.addToCart(i))}),e._UZ(14,"i"),e.qZA()()()}if(2&n){const r=a.$implicit,t=e.oxw();e.xp6(2),e.Oqu(r.categories),e.xp6(2),e.Oqu(r.name),e.xp6(2),e.Oqu(r.weight),e.xp6(2),e.Oqu(r.lostWeight),e.xp6(2),e.Oqu(e.lcZ(11,10,r.price)),e.xp6(3),e.ekj("disabled",t.isExistCatalog(r)),e.xp6(1),e.Gre("bi bi-",t.isExistCatalog(r)?"cart-check":"cart-plus","")}}let j=(()=>{var n;class a{constructor(t,o,i){this.empSaleService=t,this.empCatalogService=o,this.cartService=i,this.catalogs=[]}ngOnInit(){this.empCatalogService.search(void 0).subscribe(t=>this.catalogs=t.content)}isExistCatalog(t){return this.cartService.isExist(t)}addToCart(t){this.isExistCatalog(t)||this.cartService.add({item:t,quantity:1})}}return(n=a).\u0275fac=function(t){return new(t||n)(e.Y36(L),e.Y36(h),e.Y36(A.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-pos"]],decls:19,vars:1,consts:[[1,"view-title"],[1,"bi","bi-cart"],[1,"table","table-striped"],[1,"text-center","pe-3"],[4,"ngFor","ngForOf"],[1,"text-end","pe-3"],[1,"btn","btn-sm","btn-outline-success",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"h3",0),e._UZ(1,"i",1),e._uU(2," Pos"),e.qZA(),e.TgZ(3,"table",2)(4,"thead")(5,"tr")(6,"th"),e._uU(7,"Category"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Name"),e.qZA(),e.TgZ(10,"th",3),e._uU(11,"Weight"),e.qZA(),e.TgZ(12,"th",3),e._uU(13,"Undercount"),e.qZA(),e.TgZ(14,"th",3),e._uU(15,"Price"),e.qZA(),e._UZ(16,"th"),e.qZA()(),e.TgZ(17,"tbody"),e.YNc(18,H,15,12,"tr",4),e.qZA()()),2&t&&(e.xp6(18),e.Q6J("ngForOf",o.catalogs))},dependencies:[m.sg,m.JJ],encapsulation:2}),a})();var c=u(95),_=u(520);let v=(()=>{var n;class a{constructor(){this.categories=[]}save(t){const{id:o,...i}=t;return o?this.update(o,i):this.create(i)}create(t){let o=t;return o.id=this.categories.length?this.categories[this.categories.length-1].id+1:1,o.items=0,this.categories.push(o),(0,g.of)(this.categories)}update(t,o){let i=this.categories.findIndex(s=>s.id==t);return this.categories[i].name=o.name,this.categories[i].deleted=o.deleted,(0,g.of)(this.categories)}search(){return(0,g.of)(this.categories)}}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),a})();var Z=u(6446);function $(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",8),e._UZ(1,"input",38,39),e.TgZ(3,"span",40),e._uU(4),e.TgZ(5,"i",41),e.NdJ("click",function(){const i=e.CHM(r).index,s=e.oxw();return e.KtG(s.removeSelected(i))}),e.qZA()()()}if(2&n){const r=a.index,t=e.MAs(2);e.xp6(1),e.Q6J("formControlName",r),e.xp6(3),e.hij("",t.value," ")}}function K(n,a){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.xp6(1),e.Oqu(r.name)}}const R=function(){return["../management"]};let q=(()=>{var n;class a{constructor(t,o,i,s,l){this.fb=t,this.empCategoryService=o,this.empCatalogService=i,this.route=s,this.router=l,this.categories=[],this.form=t.group({id:0,categories:t.array([]),name:["",c.kI.required],weight:[0,[c.kI.required,c.kI.min(1)]],purity:[0,[c.kI.required,c.kI.min(1)]],goldSmithFees:[0,[c.kI.required,c.kI.min(1)]],lostWeight:[0,[c.kI.required,c.kI.min(1)]],price:[0,[c.kI.required,c.kI.min(1)]],description:["",c.kI.required]})}ngOnInit(){this.empCategoryService.search().subscribe(t=>this.categories=t),this.route.queryParamMap.subscribe(t=>{t.get("id")&&this.empCatalogService.findById(+t.get("id")).subscribe(o=>{o&&(this.form.patchValue(o.info),o.info.categories.map(s=>this.categoriesControl.push(this.fb.control(s))))})})}get id(){return this.form.get("id")}get categoriesControl(){return this.form.get("categories")}get name(){return this.form.get("name")}get weight(){return this.form.get("weight")}get purity(){return this.form.get("purity")}get goldSmithFees(){return this.form.get("goldSmithFees")}get underCount(){return this.form.get("lostWeight")}get price(){return this.form.get("price")}get description(){return this.form.get("description")}choose(t){console.log(t)}selectCategory(t){let o=this.categories.filter(s=>t==s.name),i=this.categoriesControl.controls.filter(s=>s.value==t);t&&0==i.length&&1==o.length&&this.categoriesControl.push(this.fb.control(t))}removeSelected(t){this.categoriesControl.removeAt(t)}openCatalogForm(){this.dialog?.openDialog()}saveCatalog(){let t=[];for(let o=0;o<this.categoriesControl.controls.length;o++){let i=this.categoriesControl.controls[o].value;for(let s=0;s<this.categories.length;s++)if(this.categories[s].name==i){t.push(this.categories[s].id);break}}this.form.patchValue({categories:t}),this.empCatalogService.save(this.form.value).subscribe(o=>{o&&this.router.navigate(["/employee","catalog","management"])})}}return(n=a).\u0275fac=function(t){return new(t||n)(e.Y36(c.qu),e.Y36(v),e.Y36(h),e.Y36(p.gz),e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-catalog-form"]],viewQuery:function(t,o){if(1&t&&e.Gf(_.h,5),2&t){let i;e.iGM(i=e.CRH())&&(o.dialog=i.first)}},decls:49,vars:16,consts:[[1,"view-title"],[1,"bi",3,"ngClass"],[1,"row"],[1,"col-lg-6","col"],[3,"formGroup"],["for","categories",1,"form-label"],[1,"input-group"],[1,"form-control","p-0","d-flex"],[1,"col-auto"],["formArrayName","categories",1,"row","g-1","justify-content-end","filter-category-name-wrapper","m-0"],["class","col-auto",4,"ngFor","ngForOf"],[1,"col"],["type","text","list","categories","placeholder","Type category name and hit enter",1,"w-100","h-100","form-control","cat-input",3,"keyup.enter"],["val",""],["id","categories"],[4,"ngFor","ngForOf"],[1,"input-group-text"],[1,"my-3"],["label","Name",3,"valid"],["formControlName","name","type","text","id","Name","placeholder","Catalog name",1,"form-control"],[1,"row","mb-3"],["label","Weight",3,"valid"],["formControlName","weight","id","Weight","type","number",1,"form-control"],["label","Purity",3,"valid"],["formControlName","purity","id","Purity","type","number",1,"form-control"],["label","Undercount",3,"valid"],["formControlName","lostWeight","id","Undercount","type","number",1,"form-control"],["label","Goldsmith Fees",3,"valid"],["formControlName","goldSmithFees","type","number","id","Goldsmith Fees",1,"form-control"],["label","Price",3,"valid"],["formControlName","price","type","number","id","Price",1,"form-control"],["label","Description",3,"valid","margin"],["formControlName","description","id","Description","cols","auto","rows","2","placeholder","Catalog description",1,"form-control"],[1,"text-end"],["type","button",1,"btn","btn-dark","me-2",3,"routerLink"],[1,"bi","bi-x-lg"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"bi","bi-save"],["type","text",1,"d-none",3,"formControlName"],["input",""],[1,"rounded-pill"],[1,"bi","bi-x",3,"click"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"h3",0),e._UZ(1,"i",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"form",4)(6,"label",5),e._uU(7,"Categories"),e.qZA(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,$,6,2,"div",10),e.qZA()(),e.TgZ(13,"div",11)(14,"input",12,13),e.NdJ("keyup.enter",function(){e.CHM(i);const l=e.MAs(15);return o.selectCategory(l.value),e.KtG(l.value="")}),e.qZA(),e.TgZ(16,"datalist",14),e.YNc(17,K,2,1,"option",15),e.qZA()()(),e.TgZ(18,"span",16),e._UZ(19,"i",1),e.qZA()(),e.TgZ(20,"div",17)(21,"app-form-group",18),e._UZ(22,"input",19),e.qZA()(),e.TgZ(23,"div",20)(24,"div",11)(25,"app-form-group",21),e._UZ(26,"input",22),e.qZA()(),e.TgZ(27,"div",11)(28,"app-form-group",23),e._UZ(29,"input",24),e.qZA()(),e.TgZ(30,"div",11)(31,"app-form-group",25),e._UZ(32,"input",26),e.qZA()()(),e.TgZ(33,"div",20)(34,"div",11)(35,"app-form-group",27),e._UZ(36,"input",28),e.qZA()(),e.TgZ(37,"div",11)(38,"app-form-group",29),e._UZ(39,"input",30),e.qZA()()(),e.TgZ(40,"app-form-group",31),e._UZ(41,"textarea",32),e.qZA(),e.TgZ(42,"div",33)(43,"button",34),e._UZ(44,"i",35),e._uU(45," Cancel "),e.qZA(),e.TgZ(46,"button",36),e.NdJ("click",function(){return o.saveCatalog()}),e._UZ(47,"i",37),e._uU(48," Save "),e.qZA()()()()()}2&t&&(e.xp6(1),e.Q6J("ngClass",o.id.value>0?"bi-pencil-square":"bi-plus-square"),e.xp6(1),e.hij(" ",o.id.value>0?"Catalog Edit":"Add Catalog","\n"),e.xp6(3),e.Q6J("formGroup",o.form),e.xp6(7),e.Q6J("ngForOf",o.categoriesControl.controls),e.xp6(5),e.Q6J("ngForOf",o.categories),e.xp6(2),e.Q6J("ngClass",o.categoriesControl.length>0?"bi-check text-success":"bi-x text-danger"),e.xp6(2),e.Q6J("valid",o.name.valid),e.xp6(4),e.Q6J("valid",o.weight.valid),e.xp6(3),e.Q6J("valid",o.purity.valid),e.xp6(3),e.Q6J("valid",o.underCount.valid),e.xp6(4),e.Q6J("valid",o.goldSmithFees.valid),e.xp6(3),e.Q6J("valid",o.price.valid),e.xp6(2),e.Q6J("valid",o.description.valid)("margin",!0),e.xp6(3),e.Q6J("routerLink",e.DdM(15,R)))},dependencies:[m.mk,m.sg,p.rH,Z.H,c._Y,c.YN,c.Kr,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,c.CE],encapsulation:2}),a})();var V=u(9487),b=u(2074);function z(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"input",6),e.NdJ("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.selectCategory(o))}),e.qZA(),e.TgZ(3,"label",7),e._uU(4),e.qZA()(),e.TgZ(5,"span",8),e._uU(6),e.qZA()()}if(2&n){const r=a.$implicit;e.xp6(2),e.Q6J("id",r.name)("value",r.id),e.xp6(1),e.Q6J("for",r.name),e.xp6(1),e.Oqu(r.name),e.xp6(2),e.Oqu(r.items)}}function X(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.getNextCategories())}),e._uU(1,"MORE "),e._UZ(2,"i",10),e.qZA()}}let W=(()=>{var n;class a{constructor(){this.categories=[],this.showMore=!1,this.onGetNext=new e.vpe,this.onSelect=new e.vpe}getNextCategories(){this.onGetNext.emit(!0)}selectCategory(t){this.onSelect.emit(t.target.value)}}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-category-filter-box"]],inputs:{categories:"categories",showMore:"showMore"},outputs:{onGetNext:"onGetNext",onSelect:"onSelect"},decls:5,vars:2,consts:[[1,"cat-filter-box"],[1,"cat-filter-box-title"],["class","d-flex justify-content-between align-items-end mb-2",4,"ngFor","ngForOf"],["class","ms-2",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-end","mb-2"],[1,"category-name","ms-2"],["type","checkbox",1,"form-check-input","me-1",3,"id","value","change"],[1,"cat-filter-name",3,"for"],[1,"d-inline-block","item-count"],[1,"ms-2",3,"click"],[1,"bi","bi-plus"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Categories"),e.qZA(),e.YNc(3,z,7,5,"div",2),e.YNc(4,X,3,0,"button",3),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngForOf",o.categories),e.xp6(1),e.Q6J("ngIf",o.showMore))},dependencies:[m.sg,m.O5],encapsulation:2}),a})();function ee(n,a){if(1&n&&e._UZ(0,"app-catalog-box",22),2&n){const r=a.$implicit,t=e.oxw(2);e.Q6J("role",t.currentRole)("data",r)}}function te(n,a){if(1&n&&(e.TgZ(0,"div",20),e.YNc(1,ee,1,2,"app-catalog-box",21),e.qZA()),2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngForOf",r.catalogs)}}function oe(n,a){1&n&&e._UZ(0,"app-no-data",23)}const ne=function(){return["./../edit"]};let re=(()=>{var n;class a{constructor(t,o,i){this.empCatalogService=t,this.empCategoryService=o,this.context=i,this.searchParams={keyword:"",categoryIds:[]},this.currentRole=void 0,this.categories=[],this.sharedCategories=[],this.catalogs=[]}ngOnInit(){this.empCategoryService.search().subscribe(t=>{this.categories=t,this.sharedCategories=t.slice(0,4)}),this.currentRole=this.context.activeUser.role,this.search()}search(){this.empCatalogService.search(this.searchParams).subscribe(t=>this.catalogs=t.content)}get isShowMore(){return this.categories.length>this.sharedCategories.length}getNext(t){if(t&&this.isShowMore){let o=this.categories.slice(this.sharedCategories.length,this.sharedCategories.length+4);for(let i=0;i<o.length;i++)this.sharedCategories.push(o[i])}}select(t){let o=0;if(length=this.searchParams.categoryIds.length,length)for(let i=0;i<this.searchParams.categoryIds.length;i++)if(t==this.searchParams.categoryIds[i]){o=this.searchParams.categoryIds[i];break}o?this.searchParams.categoryIds.splice(this.searchParams.categoryIds.indexOf(o),1):this.searchParams.categoryIds.push(t)}}return(n=a).\u0275fac=function(t){return new(t||n)(e.Y36(h),e.Y36(v),e.Y36(x.q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-catalog-management"]],viewQuery:function(t,o){if(1&t&&e.Gf(q,5),2&t){let i;e.iGM(i=e.CRH())&&(o.catalogForm=i.first)}},decls:24,vars:6,consts:[[1,"view-title"],[1,"bi","bi-layers"],[1,"row","g-2","justify-content-between","mb-3"],[1,"col-lg-auto","col-md-auto","col-12"],[1,"btn","btn-success","w-100",3,"routerLink"],[1,"bi","bi-plus-lg"],[1,"row","g-2"],[1,"col"],["type","text","placeholder","Search catalog",1,"form-control",3,"keyup"],["keyword",""],[1,"col-auto"],[1,"btn","btn-success",3,"click"],[1,"bi","bi-search"],[1,"d-none","d-md-inline"],[1,"row"],[1,"col-lg-3","col-12"],[3,"showMore","categories","onSelect","onGetNext"],[1,"col-lg-9","col-12","mt-lg-0","mt-3"],["class","row row-cols-lg-3 row-cols-md-3 row-cols-sm-2 row-cols-1",4,"ngIf"],["text","Catalog",4,"ngIf"],[1,"row","row-cols-lg-3","row-cols-md-3","row-cols-sm-2","row-cols-1"],[3,"role","data",4,"ngFor","ngForOf"],[3,"role","data"],["text","Catalog"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"h3",0),e._UZ(1,"i",1),e._uU(2," Catalog Management"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"a",4),e._UZ(6,"i",5),e._uU(7," Add New Catalog "),e.qZA()(),e.TgZ(8,"div",3)(9,"div",6)(10,"div",7)(11,"input",8,9),e.NdJ("keyup",function(){e.CHM(i);const l=e.MAs(12);return e.KtG(o.searchParams.keyword=l.value)}),e.qZA()(),e.TgZ(13,"div",10)(14,"button",11),e.NdJ("click",function(){return o.search()}),e._UZ(15,"i",12),e.TgZ(16,"span",13),e._uU(17," Search"),e.qZA()()()()()(),e.TgZ(18,"div",14)(19,"div",15)(20,"app-category-filter-box",16),e.NdJ("onSelect",function(l){return o.select(l)})("onGetNext",function(l){return o.getNext(l)}),e.qZA()(),e.TgZ(21,"div",17),e.YNc(22,te,2,1,"div",18),e.YNc(23,oe,1,0,"app-no-data",19),e.qZA()()}2&t&&(e.xp6(5),e.Q6J("routerLink",e.DdM(5,ne)),e.xp6(15),e.Q6J("showMore",o.isShowMore)("categories",o.sharedCategories),e.xp6(2),e.Q6J("ngIf",o.catalogs.length>0),e.xp6(1),e.Q6J("ngIf",0==o.catalogs.length))},dependencies:[m.sg,m.O5,p.rH,V.h,b.d,W],encapsulation:2}),a})(),y=(()=>{var n;class a{constructor(){this.customers=[]}save(t){const{id:o,...i}=t;return o>0?this.update(o,i):this.create(i)}create(t){let o=t;return o.id=this.customers.length?this.customers[this.customers.length-1].id+1:1,this.customers.push(o),(0,g.of)(this.customers)}update(t,o){let i=this.customers.findIndex(s=>s.id==t);return this.customers[i]=o,this.customers[i].id=t,(0,g.of)(this.customers)}search(t){return(0,g.of)({content:this.customers,page:{current:0,size:0,count:0}})}findById(t){let o=this.customers.findIndex(i=>i.id==t);return(0,g.of)(this.customers[o])}findByIdForEdit(t){return this.findById(t)}}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),a})();const ie=function(){return["/employee","customer","edit"]},ae=function(n){return{id:n}};function se(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td",28)(13,"a",29),e._UZ(14,"i",30),e.qZA(),e.TgZ(15,"a",31),e._UZ(16,"i",32),e.qZA()()()),2&n){const r=a.$implicit;e.xp6(2),e.Oqu(r.name),e.xp6(2),e.Oqu(r.email),e.xp6(2),e.Oqu(r.phone),e.xp6(2),e.Oqu(r.nrcNumber),e.xp6(2),e.Oqu(e.xi3(11,7,r.registAt,"MMM dd yyyy")),e.xp6(3),e.Q6J("routerLink",e.DdM(10,ie))("queryParams",e.VKq(11,ae,r.id))}}function ce(n,a){if(1&n&&(e.TgZ(0,"table",26)(1,"thead")(2,"tr")(3,"td"),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"td"),e._uU(6,"Phone"),e.qZA(),e.TgZ(7,"td"),e._uU(8,"Email"),e.qZA(),e.TgZ(9,"td"),e._uU(10,"NRC No"),e.qZA(),e.TgZ(11,"td"),e._uU(12,"Register At"),e.qZA(),e._UZ(13,"td"),e.qZA()(),e.TgZ(14,"tbody"),e.YNc(15,se,17,13,"tr",27),e.qZA()()),2&n){const r=e.oxw();e.xp6(15),e.Q6J("ngForOf",r.customers)}}function le(n,a){1&n&&e._UZ(0,"app-no-data",33)}const me=function(){return["..","edit"]};let ue=(()=>{var n;class a{constructor(t){this.empCustomerService=t,this.searchParams={id:0,name:"",phone:"",address:""},this.customers=[]}ngOnInit(){this.search()}search(){this.empCustomerService.search(this.searchParams).subscribe(t=>this.customers=t.content)}}return(n=a).\u0275fac=function(t){return new(t||n)(e.Y36(y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-customer-management"]],decls:35,vars:4,consts:[[1,"view-title"],[1,"bi","bi-person-raised-hand"],[1,"row","g-2"],[1,"col-lg-9","col-12","order-lg-first","order-last"],[1,"btn","btn-success",3,"routerLink"],[1,"bi","bi-plus-lg"],["class","table table-striped mt-2",4,"ngIf"],["text","Customer","image","assets/no-customer.jpg",4,"ngIf"],[1,"col-lg-3","col-12"],[1,"card","search-card"],[1,"card-header"],[1,"card-body"],["for","cust_code",1,"form-label"],["type","number","id","cust_code","placeholder","Enter customer code",1,"form-control","mb-3",3,"change"],["custId",""],["for","name",1,"form-label"],["type","text","id","name","placeholder","Enter customer name",1,"form-control","mb-3",3,"change"],["custName",""],["for","phone",1,"form-label"],["type","text","id","phone","placeholder","Enter customer phone",1,"form-control","mb-3",3,"change"],["custPhone",""],["for","address",1,"form-label"],["type","text","id","address","placeholder","Enter customer address",1,"form-control","mb-3",3,"change"],["custAddress",""],[1,"btn","btn-success","w-100",3,"click"],[1,"bi","bi-search"],[1,"table","table-striped","mt-2"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"routerLink","queryParams"],[1,"bi","bi-pencil-square"],["href","",1,"btn","btn-sm","btn-outline-warning"],[1,"bi","bi-send"],["text","Customer","image","assets/no-customer.jpg"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"h3",0),e._UZ(1,"i",1),e._uU(2," Cusomter Management"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"button",4),e._UZ(6,"i",5),e._uU(7," Add New Customer "),e.qZA(),e.YNc(8,ce,16,1,"table",6),e.YNc(9,le,1,0,"app-no-data",7),e.qZA(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"h4"),e._uU(14,"Search Customer"),e.qZA()(),e.TgZ(15,"div",11)(16,"label",12),e._uU(17,"Customer Code"),e.qZA(),e.TgZ(18,"input",13,14),e.NdJ("change",function(){e.CHM(i);const l=e.MAs(19);return e.KtG(o.searchParams.id=+l.value)}),e.qZA(),e.TgZ(20,"label",15),e._uU(21,"Customer Name"),e.qZA(),e.TgZ(22,"input",16,17),e.NdJ("change",function(){e.CHM(i);const l=e.MAs(23);return e.KtG(o.searchParams.name=l.value)}),e.qZA(),e.TgZ(24,"label",18),e._uU(25,"Customer Phone"),e.qZA(),e.TgZ(26,"input",19,20),e.NdJ("change",function(){e.CHM(i);const l=e.MAs(27);return e.KtG(o.searchParams.phone=l.value)}),e.qZA(),e.TgZ(28,"label",21),e._uU(29,"Customer Address"),e.qZA(),e.TgZ(30,"input",22,23),e.NdJ("change",function(){e.CHM(i);const l=e.MAs(31);return e.KtG(o.searchParams.address=l.value)}),e.qZA(),e.TgZ(32,"button",24),e.NdJ("click",function(){return o.search()}),e._UZ(33,"i",25),e._uU(34," Search "),e.qZA()()()()()}2&t&&(e.xp6(5),e.Q6J("routerLink",e.DdM(3,me)),e.xp6(3),e.Q6J("ngIf",o.customers.length>0),e.xp6(1),e.Q6J("ngIf",0==o.customers.length))},dependencies:[m.sg,m.O5,p.rH,b.d,m.uU],encapsulation:2}),a})();var pe=u(4159);let ge=(()=>{var n;class a{constructor(t,o,i){this.route=t,this.router=o,this.empCatalogService=i,this.images=[],this.activeCarousel=this.images[0]}ngOnInit(){this.route.queryParamMap.subscribe(t=>{t.get("id")&&this.empCatalogService.findById(+t.get("id")).subscribe(o=>this.setData(o))})}editCatalog(){this.router.navigate(["/employee","catalog","edit"],{queryParams:{id:this.catalog.id}})}uploadPhoto(t){this.empCatalogService.uploadPhotos(this.catalog.id,t).subscribe(o=>this.setData(o))}setData(t){this.catalog=t.info,this.images=t.images}}return(n=a).\u0275fac=function(t){return new(t||n)(e.Y36(p.gz),e.Y36(p.F0),e.Y36(h))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-catalog-detail"]],decls:30,vars:8,consts:[[1,"view-title"],[1,"bi","bi-card-list"],[1,"card","detail-card"],[1,"card-header"],[1,"fw-bold"],[1,"card-body"],[1,"catalog-descritpion"],[1,"card-footer","text-lg-center"],[1,"btn","btn-sm","btn-success","me-2",3,"click"],[1,"bi","bi-pencil-square"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"bi","bi-upload"],["action","#","method","post",1,"d-none"],["type","file","multiple","true","accept","image/png, image/gif, image/jpeg",3,"change"],["uploadFile",""]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"h3",0),e._UZ(1,"i",1),e._uU(2," Catalog Detail"),e.qZA(),e.TgZ(3,"app-catalog-detail-box")(4,"div",2)(5,"div",3)(6,"h4",4),e._uU(7),e.qZA()(),e.TgZ(8,"div",5)(9,"p"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.qZA(),e.TgZ(14,"p"),e._uU(15),e.qZA(),e.TgZ(16,"p"),e._uU(17),e.qZA(),e.TgZ(18,"p",6),e._uU(19),e.qZA()(),e.TgZ(20,"div",7)(21,"button",8),e.NdJ("click",function(){return o.editCatalog()}),e._UZ(22,"i",9),e._uU(23," Edit Detail "),e.qZA(),e.TgZ(24,"button",10),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(29);return e.KtG(l.click())}),e._UZ(25,"i",11),e._uU(26," Upload Photo "),e.qZA()()()(),e.TgZ(27,"form",12)(28,"input",13,14),e.NdJ("change",function(){e.CHM(i);const l=e.MAs(29);return e.KtG(o.uploadPhoto(l.files))}),e.qZA()()}2&t&&(e.xp6(7),e.Oqu(null==o.catalog?null:o.catalog.name),e.xp6(3),e.hij("",e.lcZ(11,6,null==o.catalog?null:o.catalog.price)," MMK"),e.xp6(3),e.hij("",null==o.catalog?null:o.catalog.weight," YWE"),e.xp6(2),e.hij("",null==o.catalog?null:o.catalog.lostWeight," UC"),e.xp6(2),e.hij("",null==o.catalog?null:o.catalog.goldSmithFees," MMK"),e.xp6(2),e.Oqu(null==o.catalog?null:o.catalog.description))},dependencies:[pe.I,c._Y,c.JL,m.JJ],encapsulation:2}),a})(),U=(()=>{var n;class a{constructor(t){this.onSave=new e.vpe,this.form=t.group({id:0,name:["",c.kI.required],deleted:!1})}get id(){return this.form.get("id")}get name(){return this.form.get("name")}set category(t){this.initCategoryForm(),t&&this.form.patchValue(t)}openCategoryForm(){this.dialog?.openDialog()}hideCategoryForm(){this.dialog?.hideDialog()}saveCategory(){this.onSave.emit(this.form.value)}initCategoryForm(){this.form.patchValue({id:0,name:"",deleted:!1})}}return(n=a).\u0275fac=function(t){return new(t||n)(e.Y36(c.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-category-form"]],viewQuery:function(t,o){if(1&t&&e.Gf(_.h,5),2&t){let i;e.iGM(i=e.CRH())&&(o.dialog=i.first)}},inputs:{category:"category"},outputs:{onSave:"onSave"},decls:12,vars:5,consts:[[3,"formGroup"],["modalId","categoryFormModalId",3,"modalTitle","modalIcon"],["body",""],["label","Name","icon","bi-type",3,"margin","valid"],["formControlName","name","type","text","id","name","placeholder","Category name",1,"form-control"],["formControlName","deleted","id","deleted","type","checkbox",1,"form-check-inline","me-1"],["for","deleted",1,"form-check-label"],["footer","",1,"btn","btn-outline-dark",3,"click"],[1,"bi","bi-save"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0)(1,"app-modal-dialog",1),e.ynx(2,2),e.TgZ(3,"app-form-group",3),e._UZ(4,"input",4),e.qZA(),e.TgZ(5,"div"),e._UZ(6,"input",5),e.TgZ(7,"label",6),e._uU(8,"Deleted"),e.qZA()(),e.BQk(),e.TgZ(9,"button",7),e.NdJ("click",function(){return o.saveCategory()}),e._UZ(10,"i",8),e._uU(11," Save "),e.qZA()()()),2&t&&(e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("modalTitle",o.id.value>0?"Category Edit":"Add Category")("modalIcon",o.id.value>0?"bi-pencil-square":"bi-plus-square"),e.xp6(2),e.Q6J("margin",!0)("valid",o.name.valid))},dependencies:[_.h,Z.H,c._Y,c.Fj,c.Wl,c.JJ,c.JL,c.sg,c.u],encapsulation:2}),a})();const de=["*"];let he=(()=>{var n;class a{}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-category-box"]],inputs:{name:"name",count:"count"},ngContentSelectors:de,decls:7,vars:3,consts:[[1,"category-box","p-3"],[1,"m-0"],[2,"font-size","0.8rem"],[1,"mt-2","d-flex","gap-2"]],template:function(t,o){if(1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"small",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.Hsn(6),e.qZA()()),2&t){let i;e.xp6(2),e.Oqu(null!==(i=o.name)&&void 0!==i?i:"Category Name"),e.xp6(2),e.AsE("",o.count," ",o.count<=1?"item":"items","")}},encapsulation:2}),a})();function _e(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"app-category-box",21)(1,"button",22),e.NdJ("click",function(){const i=e.CHM(r).$implicit,s=e.oxw(2);return e.KtG(s.deleteCategory(i.id))}),e._UZ(2,"i",23),e.qZA(),e.TgZ(3,"button",24),e.NdJ("click",function(){const i=e.CHM(r).$implicit,s=e.oxw(2);return e.KtG(s.editCategory(i))}),e._UZ(4,"i",25),e.qZA()()}if(2&n){const r=a.$implicit;e.Q6J("count",r.items)("name",r.name)}}function fe(n,a){if(1&n&&(e.ynx(0),e.YNc(1,_e,5,2,"app-category-box",20),e.BQk()),2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngForOf",r.categories)}}function Ce(n,a){1&n&&e._UZ(0,"app-no-data",26)}let ve=(()=>{var n;class a{constructor(t){this.empCategoryService=t,this.categories=[]}ngOnInit(){this.search()}search(){this.empCategoryService.search().subscribe(t=>this.categories=t)}openCategoryForm(){this.targetCategory=void 0,this.categoryForm?.openCategoryForm()}saveCategory(t){this.empCategoryService.save(t).subscribe(o=>{o&&(this.categoryForm?.hideCategoryForm(),this.categoryForm?.initCategoryForm(),this.search())})}editCategory(t){this.targetCategory=t,this.categoryForm?.openCategoryForm()}deleteCategory(t){}}return(n=a).\u0275fac=function(t){return new(t||n)(e.Y36(v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-category-management"]],viewQuery:function(t,o){if(1&t&&e.Gf(U,5),2&t){let i;e.iGM(i=e.CRH())&&(o.categoryForm=i.first)}},decls:27,vars:3,consts:[[1,"view-title"],[1,"bi","bi-tags"],[1,"row","g-2","justify-content-between","mb-3"],[1,"col-lg-auto","col-md-auto","col-12","order-lg-first","order-md-first","order-last"],[1,"row","g-2"],[1,"col-lg-auto","col-md-auto","col"],[1,"btn","btn-success","w-100",3,"click"],[1,"bi","bi-plus-lg"],[1,"btn","btn-outline-success","w-100"],[1,"bi","bi-upload"],[1,"col"],["type","text","placeholder","Category name",1,"form-control","w-100"],[1,"col-auto"],[1,"btn","btn-outline-success"],[1,"bi","bi-search"],[1,"d-none","d-md-inline"],[1,"row","g-3"],[4,"ngIf"],["text","Category","image","assets/no-category.jpg",4,"ngIf"],[3,"category","onSave"],["class","col-lg-3 col-md-3 col-sm-4 col-xs-12",3,"count","name",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-3","col-sm-4","col-xs-12",3,"count","name"],[1,"col","btn","btn-sm","btn-secondary",3,"click"],[1,"bi","bi-trash"],[1,"col","btn","btn-sm","btn-dark",3,"click"],[1,"bi","bi-pencil-square"],["text","Category","image","assets/no-category.jpg"]],template:function(t,o){1&t&&(e.TgZ(0,"h3",0),e._UZ(1,"i",1),e._uU(2," Category Management"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"button",6),e.NdJ("click",function(){return o.openCategoryForm()}),e._UZ(8,"i",7),e._uU(9," Add New Category "),e.qZA()(),e.TgZ(10,"div",5)(11,"button",8),e._UZ(12,"i",9),e._uU(13," Upload Category "),e.qZA()()()(),e.TgZ(14,"div",5)(15,"div",4)(16,"div",10),e._UZ(17,"input",11),e.qZA(),e.TgZ(18,"div",12)(19,"button",13),e._UZ(20,"i",14),e.TgZ(21,"span",15),e._uU(22," Search"),e.qZA()()()()()(),e.TgZ(23,"div",16),e.YNc(24,fe,2,1,"ng-container",17),e.YNc(25,Ce,1,0,"app-no-data",18),e.qZA(),e.TgZ(26,"app-category-form",19),e.NdJ("onSave",function(s){return o.saveCategory(s)}),e.qZA()),2&t&&(e.xp6(24),e.Q6J("ngIf",o.categories.length>0),e.xp6(1),e.Q6J("ngIf",0==o.categories.length),e.xp6(1),e.Q6J("category",o.targetCategory))},dependencies:[m.sg,m.O5,he,b.d,U],encapsulation:2}),a})(),Ze=(()=>{var n;class a{}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-customer-detail"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"customer-detail works!"),e.qZA())},encapsulation:2}),a})();function be(n,a){1&n&&(e.TgZ(0,"div",29)(1,"p",30),e._uU(2,"Please find customer first!"),e.qZA()())}function ye(n,a){if(1&n&&(e.TgZ(0,"div",19)(1,"p"),e._uU(2),e.ALo(3,"json"),e.qZA()()),2&n){const r=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,r.customer))}}function Te(n,a){1&n&&(e.TgZ(0,"div",31)(1,"p",30),e._uU(2,"Please add to cart catalog first!"),e.qZA()())}function xe(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",33)(1,"div",19),e._uU(2),e.qZA(),e.TgZ(3,"div",19),e._uU(4),e.qZA(),e.TgZ(5,"div",19)(6,"button",34),e.NdJ("click",function(){const i=e.CHM(r).index,s=e.oxw(2);return e.KtG(s.minus(i))}),e._UZ(7,"i",35),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA(),e.TgZ(10,"button",34),e.NdJ("click",function(){const i=e.CHM(r).index,s=e.oxw(2);return e.KtG(s.plus(i))}),e._UZ(11,"i",36),e.qZA()(),e.TgZ(12,"div",19)(13,"button",34),e.NdJ("click",function(){const i=e.CHM(r).index,s=e.oxw(2);return e.KtG(s.remove(i))}),e._UZ(14,"i",37),e.qZA()()()}if(2&n){const r=a.$implicit;e.xp6(2),e.Oqu(r.item.name),e.xp6(2),e.Oqu(r.item.price),e.xp6(5),e.hij(" ",r.quantity," ")}}function Ae(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,xe,15,3,"div",32),e.qZA()),2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngForOf",r.items)}}let qe=(()=>{var n;class a{constructor(t,o){this.empCustomerService=t,this.cartService=o,this.items=[],this.amount=1e5}ngOnInit(){this.items=this.cartService.carts}search(t){this.empCustomerService.findById(t).subscribe(o=>this.customer=o)}plus(t){this.items=this.cartService.plusQuantity(t)}minus(t){this.items=this.cartService.minusQuantity(t)}remove(t){this.items=this.cartService.remove(t)}}return(n=a).\u0275fac=function(t){return new(t||n)(e.Y36(y),e.Y36(A.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-check-out"]],decls:41,vars:7,consts:[[1,"view-title"],[1,"bi","bi-cart-check"],[1,"row","g-3","ps-2"],[1,"col-lg-7","col-12"],[1,"row","justify-content-center","align-items-center"],["class","col text-center",4,"ngIf"],["class","col",4,"ngIf"],[1,"col-lg-5","col"],[1,"card","search-card","mb-3"],[1,"card-body"],["type","text","placeholder","Customer code",1,"form-control","mb-2"],["custCode",""],[1,"btn","btn-success","w-100",3,"click"],[1,"bi","bi-search"],[1,"btn","btn-outline-success"],[1,"bi","bi-x-lg"],[1,"me-2"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"col"],[1,"cart"],[1,"cart-header"],[1,"fw-bold"],[1,"cart-body"],[1,"text-end"],[1,"btn","btn-success",2,"width","130px"],[1,"row","g-3","p-3"],["type","text","placeholder","Enter referral code",1,"form-control"],[1,"col-auto"],[1,"col","text-center"],[1,"fs-5","text-danger"],[1,"text-center"],["class","row align-items-center mb-5",4,"ngFor","ngForOf"],[1,"row","align-items-center","mb-5"],[1,"checkout-item-btn",3,"click"],[1,"bi","bi-dash"],[1,"bi","bi-plus"],[1,"bi","bi-trash"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"h3",0),e._UZ(1,"i",1),e._uU(2," Check out\n"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4),e.YNc(6,be,3,0,"div",5),e.YNc(7,ye,4,3,"div",6),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"input",10,11),e.TgZ(13,"button",12),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(12);return e.KtG(o.search(l.value))}),e._UZ(14,"i",13),e._uU(15," Find "),e.qZA()()()()(),e.TgZ(16,"button",14),e._UZ(17,"i",15),e._uU(18," Clear Cart "),e.qZA(),e._UZ(19,"hr",16),e.YNc(20,Te,3,0,"div",17),e.YNc(21,Ae,2,1,"div",18),e.qZA(),e.TgZ(22,"div",19)(23,"div",20)(24,"div",21)(25,"h4",22),e._uU(26,"Sub Total"),e.qZA()(),e.TgZ(27,"div",23)(28,"p"),e._uU(29),e.ALo(30,"number"),e.qZA(),e._UZ(31,"hr"),e.TgZ(32,"div",24)(33,"button",25),e._uU(34," Confirm Order "),e.qZA()()()(),e.TgZ(35,"form",26)(36,"div",19),e._UZ(37,"input",27),e.qZA(),e.TgZ(38,"div",28)(39,"button",25),e._uU(40,"Apply"),e.qZA()()()()()}2&t&&(e.xp6(6),e.Q6J("ngIf",null==o.customer||null==o.customer),e.xp6(1),e.Q6J("ngIf",o.customer),e.xp6(13),e.Q6J("ngIf",0==o.items.length),e.xp6(1),e.Q6J("ngIf",o.items.length>0),e.xp6(8),e.hij("Amount - ",e.lcZ(30,5,o.amount||0),""))},dependencies:[m.sg,m.O5,m.Ts,m.JJ],encapsulation:2}),a})();const k=`${f.N.baseApi}/public/locations`;let Ue=(()=>{var n;class a{constructor(t){this.http=t}getAllDivisions(){return this.http.get(`${k}/divisions`)}getTownshipByDivision(t){return this.http.get(`${k}/townships`,{params:{division:t}})}}return(n=a).\u0275fac=function(t){return new(t||n)(e.LFG(C.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),a})();function ke(n,a){if(1&n&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.Q6J("value",r.id),e.xp6(1),e.Oqu(r.name)}}const we=function(){return["./..","management"]},Fe=[{path:"",component:G,children:[{path:"sale",children:[{path:"",component:j,title:"Employee | Pos"},{path:"checkout",component:qe,title:"Employee | Check Out"}]},{path:"category",component:ve,title:"Employee | Category Management"},{path:"catalog",children:[{path:"management",component:re,title:"Employee | Catalog Management"},{path:"edit",component:q,title:"Employee | Catalog Edit"},{path:"detail",component:ge,title:"Employee | Catalog Detail"},{path:"",redirectTo:"/employee/catalog/management",pathMatch:"full"}]},{path:"customer",children:[{path:"management",component:ue,title:"Employee | Customer Management"},{path:"edit",component:(()=>{var n;class a{constructor(t,o,i,s,l){this.router=o,this.route=i,this.empCustomerService=s,this.pubLocationService=l,this.townships=[],this.form=t.group({id:0,name:["",c.kI.required],phone:["",c.kI.required],email:["",[c.kI.required,c.kI.email]],nrcNumber:["",c.kI.required],gender:"Male",dateOfBirth:"",address:["",c.kI.required],township:[0,c.kI.required],remark:"",refererId:0,deleted:!1})}ngOnInit(){this.route.queryParamMap.subscribe(t=>{t.get("id")&&this.empCustomerService.findByIdForEdit(+t.get("id")).subscribe(o=>{o&&(console.log(o),this.form.patchValue(o))})}),this.pubLocationService.getTownshipByDivision(0).subscribe(t=>this.townships=t)}get id(){return this.form.get("id")}get name(){return this.form.get("name")}get phone(){return this.form.get("phone")}get email(){return this.form.get("email")}get nrcNumber(){return this.form.get("nrcNumber")}get address(){return this.form.get("address")}get township(){return this.form.get("township")}openCustomerForm(){this.dialog?.openDialog()}saveCustomer(){this.empCustomerService.save(this.form.value).subscribe(t=>{t&&this.router.navigate(["/employee","customer","management"])})}}return(n=a).\u0275fac=function(t){return new(t||n)(e.Y36(c.qu),e.Y36(p.F0),e.Y36(p.gz),e.Y36(y),e.Y36(Ue))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-customer-form"]],viewQuery:function(t,o){if(1&t&&e.Gf(_.h,5),2&t){let i;e.iGM(i=e.CRH())&&(o.dialog=i.first)}},decls:61,vars:15,consts:[[1,"view-title"],[1,"bi",3,"ngClass"],[3,"formGroup"],[1,"row","g-3","mb-4"],[1,"col-lg-4","col-12"],["label","Name",3,"valid"],["formControlName","name","id","Name","type","text","placeholder","Customer name",1,"form-control"],["label","Phone",3,"valid"],["formControlName","phone","type","tel","id","Phone","placeholder","09xxxxxx",1,"form-control"],["label","Email",3,"valid"],["formControlName","email","type","email","id","Email","placeholder","example@gmail.com",1,"form-control"],["label","Refer ID",3,"valid"],["formControlName","refererId","type","number","id","Refer ID",1,"form-control"],["label","Birth Date",3,"valid"],["formControlName","dateOfBirth","type","date","id","Birth Date",1,"form-control"],["label","NRC Number",3,"valid"],["formControlName","nrcNumber","type","text","id","NRc Number","placeholder","1/BaBaBa(N)xxxxxx",1,"form-control"],["label","Township",3,"valid"],["formControlName","township","id","township",1,"form-select"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["label","Address",3,"valid"],["formControlName","address","type","text","id","Address","placeholder","Customer address",1,"form-control"],["label","Remark",3,"valid"],["formControlName","remark","type","text","id","Remark","placeholder","Remark for customer",1,"form-control"],[1,"row","g-3","mb-3","justify-content-lg-center"],["formControlName","gender","name","gender","value","Male","type","radio","id","male",1,"form-check-input","me-2"],["for","male",1,"form-check-label","me-3"],["formControlName","gender","name","gender","value","Female","type","radio","id","female",1,"form-check-input","me-2"],["for","female",1,"form-check-label","me-3"],["formControlName","gender","name","gender","value","Other","type","radio","id","other",1,"form-check-input","me-2"],["for","other",1,"form-check-label"],["formControlName","deleted","type","checkbox","id","deleted",1,"form-check-input","me-2"],["for","deleted",1,"form-check-label"],[1,"row","g-3","justify-content-lg-center","justify-content-md-center"],[1,"col-lg-4","col-md-4","col-12"],[1,"btn","btn-dark","me-3","w-100",3,"routerLink"],[1,"bi","bi-x-lg"],[1,"btn","btn-outline-dark","w-100",3,"click"],[1,"bi","bi-save"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"h3",0),e._UZ(1,"i",1),e._uU(2),e.qZA(),e.TgZ(3,"form",2)(4,"div",3)(5,"div",4)(6,"app-form-group",5),e._UZ(7,"input",6),e.qZA()(),e.TgZ(8,"div",4)(9,"app-form-group",7),e._UZ(10,"input",8),e.qZA()(),e.TgZ(11,"div",4)(12,"app-form-group",9),e._UZ(13,"input",10),e.qZA()()(),e.TgZ(14,"div",3)(15,"div",4)(16,"app-form-group",11),e._UZ(17,"input",12),e.qZA()(),e.TgZ(18,"div",4)(19,"app-form-group",13),e._UZ(20,"input",14),e.qZA()(),e.TgZ(21,"div",4)(22,"app-form-group",15),e._UZ(23,"input",16),e.qZA()()(),e.TgZ(24,"div",3)(25,"div",4)(26,"app-form-group",17)(27,"select",18)(28,"option",19),e._uU(29,"Select Township"),e.qZA(),e.YNc(30,ke,2,2,"option",20),e.qZA()()(),e.TgZ(31,"div",4)(32,"app-form-group",21),e._UZ(33,"input",22),e.qZA()(),e.TgZ(34,"div",4)(35,"app-form-group",23),e._UZ(36,"input",24),e.qZA()()(),e.TgZ(37,"div",25)(38,"div",4),e._UZ(39,"input",26),e.TgZ(40,"label",27),e._uU(41,"Male"),e.qZA(),e._UZ(42,"input",28),e.TgZ(43,"label",29),e._uU(44,"Female"),e.qZA(),e._UZ(45,"input",30),e.TgZ(46,"label",31),e._uU(47,"Other"),e.qZA()(),e.TgZ(48,"div",4),e._UZ(49,"input",32),e.TgZ(50,"label",33),e._uU(51,"Deleted"),e.qZA()()(),e.TgZ(52,"div",34)(53,"div",35)(54,"button",36),e._UZ(55,"i",37),e._uU(56," Close "),e.qZA()(),e.TgZ(57,"div",35)(58,"button",38),e.NdJ("click",function(){return o.saveCustomer()}),e._UZ(59,"i",39),e._uU(60," Save "),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("ngClass",o.id.value>0?"bi-pencil-square":"bi-plus-square"),e.xp6(1),e.hij(" ",o.id.value>0?"Customer Edit":"Add Customer","\n"),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("valid",o.name.valid),e.xp6(3),e.Q6J("valid",o.phone.valid),e.xp6(3),e.Q6J("valid",o.email.valid),e.xp6(4),e.Q6J("valid",!0),e.xp6(3),e.Q6J("valid",!0),e.xp6(3),e.Q6J("valid",o.nrcNumber.valid),e.xp6(4),e.Q6J("valid",o.township.valid),e.xp6(4),e.Q6J("ngForOf",o.townships),e.xp6(2),e.Q6J("valid",o.address.valid),e.xp6(3),e.Q6J("valid",!0),e.xp6(19),e.Q6J("routerLink",e.DdM(14,we)))},dependencies:[m.mk,m.sg,p.rH,Z.H,c._Y,c.YN,c.Kr,c.Fj,c.wV,c.Wl,c.EJ,c._,c.JJ,c.JL,c.sg,c.u],encapsulation:2}),a})(),title:"Employee | Customer Edit"},{path:"detail",component:Ze,title:"Employee | Customer Detail"},{path:"",redirectTo:"/employee/customer/management",pathMatch:"full"}]},{path:"",redirectTo:"/employee/sale",pathMatch:"full"}]}];let Me=(()=>{var n;class a{}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.Bz.forChild(Fe),p.Bz]}),a})();var Ne=u(7854);let Je=(()=>{var n;class a{}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.ez,Me,Ne.H,c.UX]}),a})()}}]);